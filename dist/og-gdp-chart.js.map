{"version":3,"sources":["og-gdp-chart.es6.js"],"names":["Polymer","is","properties","width","type","Number","value","height","margin","Object","top","right","bottom","left","observer","data","Array","axisData","notify","legendAlignment","String","_bands","__defaultAxisData","ready","scopeSubtree","$","gammaChart","densityChart","porosityChart","attached","length","draw","x","y","_setupDefaults","keys","bands","forEach","_bandId","obj","push","set","notifyPath","_draw","fire","_prepareChartingArea","_prepareAxes","_drawGridLines","_drawAxes","_drawCurrentDepthSeparator","_drawChart","gamma","density","porosity","axisColor","customStyle","tickColor","updateStyles","d3","Px","adjustedWidth","adjustedHeight","chartId","select","remove","svg","append","attr","toolTip","tip","offset","html","d","msg","call","historical","scaleLinear","range","current","clamp","historicalX","currentX","historicalY","currentY","_setDomain","_axis","_axisData","_axisType","subType","min","start","max","domain","niceTicks","nice","_drawGrid","_axisX","_axisY","hideGrid","_xGrid","axisBottom","tickSize","tickFormat","_translateY","_yGrid","axisLeft","currentDepth","style","color","dashArray","_plot","_plotLineAndDot","radius","me","line","interpolation","curve","sort","a","b","lastBand","band","xMax","len","map","idx","selectAll","enter","path","datum","dots","i","on","prefix","label","show","hide","_drawAxesBySubType","_xAxis","tickValues","format","_yAxis","ticks","arr","querySelectorAll","labelPositionY","text","axisLabel","_redraw","newData","oldData"],"mappings":"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","file":"og-gdp-chart.js","sourcesContent":["(function() {\n  Polymer({\n\n    is: 'og-gdp-chart',\n\n    properties: {\n      /**\n      * Width of the Chart.\n      *\n      * @property width\n      */\n      width: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 960\n      },\n      /**\n      * Height of the Chart.\n      *\n      * @property height\n      */\n\t\t\theight: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 250\n      },\n      /**\n      * Margin of the Chart.\n      Eg: {top: 20, right: 20, bottom: 30, left: 50}\n      *\n      * @property margin\n      */\n      margin: {\n\t\t\t\ttype: Object,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn {top: 20, right: 20, bottom: 30, left: 50};\n\t\t\t\t},\n\t\t\t\tobserver: '_redraw'\n\t\t\t},\n      /**\n      * Chart Data\n      * Format: {\n        \"gamma\": {\"historical\": [{\"x\": 1, \"y\": 2, \"band\": \"1\"}], \n          \"current\": [{\"x\": 1, \"y\": 2, \"band\": \"1\"}]},\n        \"density\": {\"historical\": [{\"x\": 1, \"y\": 2, \"band\": \"1\"}], \n          \"current\": [{\"x\": 1, \"y\": 2, \"band\": \"1\"}]},\n        \"porosity\": {\"historical\": [{\"x\": 1, \"y\": 2, \"band\": \"1\"}], \n          \"current\": [{\"x\": 1, \"y\": 2, \"band\": \"1\"}]}\n      }\n      * @property data\n      */\n      data: {\n\t\t\t\ttype: Array,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn [];\n\t\t\t\t},\n\t\t\t\tobserver: '_redraw'\n      },\n      /**\n       * Axis Data\n       *\n       * @property axisData\n       */\n      axisData: {\n        type: Object,\n        notify: true,\n        observer: '_redraw'\n      },\n      /**\n       * Legend Alignment\n       * Eg: right, left, center\n       *\n       * @property legendAlignment\n       */\n      legendAlignment: {\n        type: String,\n        value: \"right\"\n      },\n      _bands: {\n        type: Array\n      }\n    },\n\n    __defaultAxisData: {\n        \"x\": {\n          \"color\": \"\",\n          \"axisLabel\": \"Measured Depth\",\n          \"unit\": \"\",\n          \"hideGrid\": true,\n          \"axisColor\": \"#c1c0c0\",\n          \"tickColor\": \"#c1c0c0\",\n          \"gamma\": {\n            \"tickFormat\": \"\",\n            \"d3NiceType\": \"\",\n            \"niceTicks\": 0,\n            \"start\": 0\n          },\n          \"density\": {\n            \"tickFormat\": \"\",\n            \"d3NiceType\": \"\",\n            \"niceTicks\": 0,\n            \"start\": 0\n          },\n          \"porosity\": {\n            \"tickFormat\": \"\",\n            \"d3NiceType\": \"\",\n            \"niceTicks\": 0,\n            \"start\": 0\n          }\n        },\n        \"y\": {\n          \"hideGrid\": false,\n          \"axisColor\": \"#c1c0c0\",\n          \"tickColor\": \"#c1c0c0\",\n          \"dotRadius\": 2,\n          \"interpolation\": \"curveCardinal\",\n          \"bands\": {\n            \"1\": {\n              \"color\": \"steelblue\",\n              \"label\": \"Formation 1\"\n            }\n          },\n          \"gamma\": {\n            \"historical\": {\n              \"niceTicks\": 6,\n              \"start\": 0,\n              \"tickFormat\": \"\",\n              \"label\": \"\"\n            },\n            \"current\": {\n              \"niceTicks\": 6,\n              \"start\": 0,\n              \"tickFormat\": \"\",\n              \"label\": \"\"\n            }\n          },\n          \"density\": {\n            \"historical\": {\n              \"niceTicks\": 6,\n              \"start\": 0,\n              \"tickFormat\": \"\",\n              \"label\": \"\"\n            },\n            \"current\": {\n              \"niceTicks\": 6,\n              \"start\": 0,\n              \"tickFormat\": \"\",\n              \"label\": \"\"\n            }\n          },\n          \"porosity\": {\n            \"historical\": {\n              \"niceTicks\": 6,\n              \"start\": 0,\n              \"tickFormat\": \"\",\n              \"label\": \"\"\n            },\n            \"current\": {\n              \"niceTicks\": 6,\n              \"start\": 0,\n              \"tickFormat\": \"\",\n              \"label\": \"\"\n            }\n          },\n          \"currentDepth\": {\n            \"color\": \"#c1c0c0\",\n            \"dashArray\": \"\",\n            \"unit\": \"ft\",\n            \"label\": \"Current Depth\"\n          }\n        }\n    },\n\n    ready() {\n      this.scopeSubtree(this.$.gammaChart, true);\n      this.scopeSubtree(this.$.densityChart, true);\n      this.scopeSubtree(this.$.porosityChart, true);\n    },\n\n    attached() {\n      if(this.data && this.data.length) {\n        this.draw();\n      }\n    },\n\n    draw() {\n      let data = this.data;\n      if(!data || !this.axisData || !this.axisData.x || !this.axisData.y) {return;}\n      this._setupDefaults();\n      if(Object.keys(this.axisData.y.bands).length > 1) {\n        let _bands = [];\n        Object.keys(this.axisData.y.bands).forEach((_bandId) => {\n          let obj = this.axisData.y.bands[_bandId];\n          _bands.push(obj);\n        });\n        this.set(\"_bands\", _bands);\n        this.notifyPath('_bands.*');\n      }\n      this._draw('gamma');\n      this._draw('density');\n      this._draw('porosity');\n      this.fire(\"chart-drawn\", {});\n    },\n\n    _draw(type) {\n      let data = this.data;\n      if(!data || !this.axisData || !this.axisData.x || !this.axisData.y) {return;}\n      this._prepareChartingArea(type);\n      this._prepareAxes(data, type);\n      this._drawGridLines(data, type);\n      this._drawAxes(data, type);\n      this._drawCurrentDepthSeparator(data, type);\n      this._drawChart(data, type);\n    },\n    \n    _setupDefaults() {\n      this.gamma = this.gamma || {\"historical\": {}, \"current\": {}};\n      this.density = this.density || {\"historical\": {}, \"current\": {}};\n      this.porosity = this.porosity || {\"historical\": {}, \"current\": {}};\n\n      this.axisData = this.axisData ? this.axisData : this.__defaultAxisData;\n      this.axisData.x = this.axisData.x ? this.axisData.x : this.__defaultAxisData.x;\n      this.axisData.y = this.axisData.y ? this.axisData.y : this.__defaultAxisData.y;\n\n      if(this.axisData.x.axisColor) {\n        this.customStyle['--x-axis-color'] = this.axisData.x.axisColor;\n      }\n      if(this.axisData.x.tickColor) {\n        this.customStyle['--x-tick-color'] = this.axisData.x.tickColor;\n      }\n      if(this.axisData.y.axisColor) {\n        this.customStyle['--y-axis-color'] = this.axisData.y.axisColor;\n      }\n      if(this.axisData.y.tickColor) {\n        this.customStyle['--y-tick-color'] = this.axisData.y.tickColor;\n      }\n      this.updateStyles();\n    },\n\n    _prepareChartingArea(type) {\n      let d3 = Px.d3;\n      // set the dimensions and margins of the graph\n      this.margin = this.margin || {top: 30, right: 20, bottom: 40, left: 50},\n      this.adjustedWidth = this.width - this.margin.left - this.margin.right,\n      this.adjustedHeight = this.height/2 - this.margin.top - this.margin.bottom;\n\n      let chartId = `${type}Chart`;\n      d3.select(this.$[chartId]).select(\"svg\").remove();\n      this[type].svg = d3.select(this.$[chartId]).append(\"svg\")\n          .attr(\"viewBox\", \"0 0 \"+this.width+\" \"+this.height/2)\n          .attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n        .append(\"g\")\n          .attr(\"transform\",\n                \"translate(\" + this.margin.left + \",\" + this.margin.top + \")\");\n      this[type].toolTip = d3.tip(d3.select(this.$[chartId]))\n        .attr(\"class\", \"d3-tip\")\n        .offset([-8, 0])\n        .html(function(d) {\n          return d.msg;\n        });\n\n      this[type].svg.call(this[type].toolTip);\n    },\n    _prepareAxes(data, type) {\n      // set the ranges\n      let d3 = Px.d3;\n      this[type].historical.x= d3.scaleLinear().range([0, this.adjustedWidth]);\n      this[type].current.x= this[type].historical.x;\n      this[type].historical.y = d3.scaleLinear().range([this.adjustedHeight/2, 0]).clamp(true);\n      this[type].current.y = d3.scaleLinear().range([this.adjustedHeight/2, 0]).clamp(true);\n\n      let historicalX = this[type].historical.x,\n          currentX = this[type].current.x,\n          historicalY = this[type].historical.y,\n          currentY = this[type].current.y;\n\n      let _setDomain = (_axis, _axisData, _axisType, subType) => {\n        let min = _axisData[type][subType] ? \n          _axisData[type][subType].start : _axisData[type].start;\n        if(!min && min != 0) {\n          min = min || d3.min(data[type][subType], function(d) {\n            return d[_axisType];\n          });\n        }\n        let max = d3.max(data[type][subType], function(d) {\n          return d[_axisType];\n        });\n        _axis.domain([min, max*1.2]);\n\n        //matches only historical X and all y\n        if('historical' == subType || _axisData[type][subType]) {\n          let niceTicks = _axisData[type][subType] ? \n            _axisData[type][subType].niceTicks : _axisData[type].niceTicks;\n          if(niceTicks) {\n            _axis.nice(niceTicks);\n          } else {\n            _axis.nice();\n          }\n        }\n      };\n\n      _setDomain(historicalX, this.axisData.x, 'x', 'historical');\n      _setDomain(historicalY, this.axisData.y, 'y', 'historical');\n      _setDomain(currentY, this.axisData.y, 'y', 'current');\n    },\n    _drawGridLines(data, type) {\n      let historicalX = this[type].historical.x,\n          currentX = this[type].current.x,\n          historicalY = this[type].historical.y,\n          currentY = this[type].current.y,\n          d3 = Px.d3;\n      let _drawGrid = (_axisX, _axisY, subType) => {\n        if(!this.axisData.x.hideGrid) {\n          let _xGrid = d3.axisBottom(_axisX)\n            .tickSize(this.adjustedHeight)\n            .tickFormat(\"\");\n          this[type].svg.append(\"g\")\n            .attr(\"class\", `grid x-grid ${type}-x-grid`)\n            .call(_xGrid);\n        }\n  \n        if(!this.axisData.y.hideGrid) {\n          let _translateY = subType == 'historical' ? this.adjustedHeight/2 : 0;\n          let _yGrid = d3.axisLeft(_axisY)\n            .tickSize(-this.adjustedWidth)\n            .tickFormat(\"\");\n          this[type].svg.append(\"g\")\n            .attr(\"class\", `grid y-grid ${type}-y-grid`)\n            .attr(\"transform\", \"translate(0,\" + _translateY + \")\")\n            .call(_yGrid);\n        }\n      };\n      _drawGrid(historicalX, historicalY, 'historical');\n      _drawGrid(currentX, currentY, 'current');\n    },\n    _drawCurrentDepthSeparator(data, type) {\n      let historicalX = this[type].historical.x,\n          currentX = this[type].current.x,\n          historicalY = this[type].historical.y,\n          currentY = this[type].current.y,\n          d3 = Px.d3;\n      let currentDepth = d3.max(data[type].current, (d) => d.x),\n      _axisData = this.axisData.y.currentDepth;\n      this[type].svg.append(\"svg:line\")\n        .attr(\"class\", \"current-depth\")\n        .style(\"stroke\", _axisData.color || this.axisData.y.axisColor)\n        .style(\"stroke-dasharray\", _axisData.dashArray || \"2,2\")\n        .attr(\"x1\", currentX(currentDepth))\n        .attr(\"y1\", this.adjustedHeight + 20)\n        .attr(\"x2\", currentX(currentDepth))\n        .attr(\"y2\", -7);\n    },\n    _drawChart(data, type) {\n      this._plot(data, type);\n    },\n    _plot(data, type) {\n      let historicalX = this[type].historical.x,\n          historicalY = this[type].historical.y,\n          currentX = this[type].current.x,\n          currentY = this[type].current.y,\n          d3 = Px.d3;\n      this._plotLineAndDot(historicalX, \n        historicalY, data[type].historical, type, 'historical');\n      this._plotLineAndDot(currentX, \n        currentY, data[type].current, type, 'current');\n    },\n    _plotLineAndDot(x, y, data, type, subType) {\n      let d3 = Px.d3, radius = 2, _axisData = this.axisData, me = this;\n      let line = d3.line()\n          .x(function(d) { return x(+d.x); })\n          .y(function(d) { return y(+d.y); });\n\n      if(_axisData.y.interpolation) {\n        line.curve(d3[_axisData.y.interpolation]);\n      }\n      let _bands = [];\n      data = data.sort((a, b) => {\n        return a.x - b.x;\n      })\n      let lastBand = data[0].band;\n      let xMax = x.domain()[1], len = data.length;\n      _bands.push({\"offset\": 0, \n            \"color\": me.axisData.y.bands[data[0].band].color});\n      data.map((obj, idx) => {\n        if(obj.band != lastBand) {\n          _bands.push({\"offset\": obj.x/xMax, \n            \"color\": me.axisData.y.bands[data[idx-1].band].color});\n          _bands.push({\"offset\": obj.x/xMax, \n            \"color\": me.axisData.y.bands[obj.band].color});\n          lastBand = obj.band;\n        }\n      });\n      _bands.push({\"offset\": 1, \n            \"color\": me.axisData.y.bands[data[len-1].band].color});\n      me[type].svg.append(\"linearGradient\")\n        .attr(\"id\", \"line-gradient\")            \n        .attr(\"gradientUnits\", \"userSpaceOnUse\")    \n        .attr(\"x1\", x(0)).attr(\"y1\", 0)         \n        .attr(\"x2\", x(x.domain()[1])).attr(\"y2\", 0)      \n      .selectAll(\"stop\")                      \n          .data(_bands)                  \n      .enter().append(\"stop\")         \n          .attr(\"offset\", function(d) { return d.offset; })   \n          .attr(\"stop-color\", function(d) { return d.color; });\n\n      let path = me[type].svg.append('path')\n          .datum(data)\n          .attr(\"class\", `series-${type} ${type}-${subType}`)\n          .attr(\"fill\", \"transparent\")\n          .attr(\"d\", line)\n          .style(\"stroke\", 'url(#line-gradient)')\n          .style(\"pointer-events\", \"none\");\n\n      let dots = me[type].svg.selectAll(\".dot\")\n        .data(data)\n        .enter()\n          .append(\"circle\")\n          .attr(\"r\", radius)\n          .attr(\"cx\", (d, i) => x(+d.x))\n          .attr(\"cy\", (d) => y(+d.y))\n          .attr(\"fill\", (d) => {return _axisData.y.bands[d.band].color || 'steelblue';})\n          .attr(\"class\", `series-${type}-${subType}`)\n          .on('mouseover', (d, i) => {\n            d3.select(me)\n              .attr('r', radius + 2);\n            let prefix = _axisData.y[type][subType].label ? \n              _axisData.y[type][subType].label + \": \" : \"\";\n            d.msg = prefix + d.y;\n            me[type].toolTip.show(d);\n          })\n          .on('mouseout', (d) => {\n            d3.select(this)\n              .attr('r', radius);\n            me[type].toolTip.hide(d);\n          });\n\n      if(subType == 'historical') {\n        let _translateY = this.adjustedHeight;\n        path.attr(\"transform\", \"translate(0,\" + _translateY/2 + \")\");\n        dots.attr(\"transform\", \"translate(0,\" + _translateY/2 + \")\");\n      }\n    },\n    _drawAxes(data, type) {\n      let historicalX = this[type].historical.x,\n          historicalY = this[type].historical.y,\n          currentX = this[type].current.x,\n          currentY = this[type].current.y,\n          d3 = Px.d3;\n      this._drawAxesBySubType(historicalX, historicalY, type, 'historical');\n      this._drawAxesBySubType(currentX, currentY, type, 'current');\n    },\n\n    _drawAxesBySubType(x, y, type, subType) {\n      // Add the X Axis\n      let _xAxis = d3.axisBottom(x),\n          _translateY = this.adjustedHeight;\n      if('current' == subType) {\n        _xAxis.tickValues([]);\n        this[type].svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + _translateY/2 + \")\")\n            .attr(\"class\", \"x-axis\")\n            .call(_xAxis);\n      } else {\n        _xAxis.tickFormat(d3.format(this.axisData.x[type].tickFormat));\n        this[type].svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + _translateY + \")\")\n            .attr(\"class\", \"x-axis\")\n            .call(_xAxis);\n      }\n\n      // Add the Y Axis\n      let _yAxis = d3.axisLeft(y).ticks(this.axisData.y[type][subType].niceTicks || 5);\n      if(this.axisData.y[type][subType].tickFormat) {\n        _yAxis.tickFormat(d3.format(this.axisData.y[type][subType].tickFormat));\n      }\n      if('current' == subType) {\n        this[type].svg.append(\"g\")\n            .attr(\"class\", \"y-axis\")\n            //.attr(\"transform\", \"translate(0,\"+_translateY/2+\")\")\n            .call(_yAxis);\n      } else {\n        this[type].svg.append(\"g\")\n            .attr(\"class\", `y-axis y-axis-${type}-${subType}`)\n            .attr(\"transform\", \"translate(0,\"+_translateY/2+\")\")\n            .call(_yAxis);\n        let arr = this.querySelectorAll(`.y-axis-${type}-${subType} g.tick`);\n        d3.select(arr[arr.length - 1]).attr('style', 'display: none')\n      }\n\n      if(this.axisData.y[type][subType].label) {\n        let labelPositionY;\n        if('current' == subType) {\n          labelPositionY = _translateY/2;\n        } else {\n          labelPositionY = _translateY;\n        }\n        this[type].svg.append(\"text\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", 0 - this.margin.left)\n          .attr(\"x\",0 - labelPositionY)\n          .attr(\"dy\", \"1em\")\n          .attr(\"class\", \"y-axis-label\")\n          .text(this.axisData.y[type][subType].label);\n      }\n\n      if(subType == 'historical' && \n        this.axisData.x.axisLabel) {\n        this[type].svg.append(\"text\")\n          .attr(\"dy\", \"1em\")\n          .attr(\"class\", \"x-axis-label\")\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"transform\", \"translate(\"+ \n            (this.adjustedWidth/2) +\",\"+(this.adjustedHeight + this.margin.top)+\")\")\n          .text(this.axisData.x.axisLabel);\n      }\n    },\n\n    _redraw(newData, oldData) {\n      Px.d3.select(this.$.gammaChart).select(\"svg\").remove();\n      Px.d3.select(this.$.densityChart).select(\"svg\").remove();\n      Px.d3.select(this.$.porosityChart).select(\"svg\").remove();\n      this.draw();\n    }\n  });\n})();\n"]}